import { API_ERRORS, STATUS_CODES, TAGS } from 'data';
import { generateCustomerData } from './generateCustomer.data';
import _, { toNumber } from 'lodash';

export const customerPositiveTestData = [
  {
    testName: 'Should create customer using all correct fields and valid token',
    tag: ['@1_C_CR_API', TAGS.API, TAGS.SMOKE, TAGS.REGRESSION],
    data: generateCustomerData(),
  },
  {
    testName: 'Should create customer using only required fields (without NOtes)',
    tag: ['@2_C_CR_API', TAGS.API, TAGS.REGRESSION],
    data: generateCustomerData({ notes: '' }),
  },
  {
    testName: 'Should create customer using minimum length values for all fields',
    tag: ['@3_C_CR_API', TAGS.API],
    data: generateCustomerData({
      name: 'a',
      city: 'b',
      street: 'z',
      house: 1,
      flat: 5,
      notes: 'qq',
      phone: '+1234567890',
    }),
  },
  {
    testName: 'Should create customer using maximum length values for all fields',
    tag: ['@4_C_CR_API', TAGS.API],
    data: generateCustomerData({
      name: 'ab'.repeat(20),
      city: 'hi'.repeat(10),
      street: 'xo'.repeat(10),
      house: toNumber('9'.repeat(3)),
      flat: +'9'.repeat(4),
      phone: '+' + '1'.repeat(19),
      notes: 'q'.repeat(250),
    }),
  },
];

export const customerNegativeTestData = [
  {
    testName: "Should not create customer when required field 'Email' is missing",
    tag: ['@7_C_CR_API', TAGS.API],
    data: _.omit(generateCustomerData(), ['email']),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Email format is invalid',
    tag: ['@8_C_CR_API', TAGS.API],
    data: generateCustomerData({ email: 'invalid email' }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when required field "Name" is missing',
    tag: ['@10_C_CR_API', TAGS.API],
    data: _.omit(generateCustomerData(), ['name']),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Name contains numbers or special characters',
    tag: ['@11_C_CR_API', TAGS.API],
    data: generateCustomerData({ name: 'qwe$123' }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Name has more than one space between words',
    tag: ['@12_C_CR_API', TAGS.API],
    data: generateCustomerData({ name: 'test   name' }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Name length exceeds 40 characters',
    tag: ['@13_C_CR_API', TAGS.API],
    data: generateCustomerData({ name: 'a'.repeat(41) }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when required field Country is missing',
    tag: ['@14_C_CR_API', TAGS.API],
    data: _.omit(generateCustomerData(), ['country']),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when required field City is missing',
    tag: ['@15_C_CR_API', TAGS.API],
    data: _.omit(generateCustomerData(), ['city']),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when City contains numbers or special characters',
    tag: ['@16_C_CR_API', TAGS.API],
    data: generateCustomerData({ city: 'cit&&y' }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when City length exceeds 20 characters',
    tag: ['@17_C_CR_API', TAGS.API],
    data: generateCustomerData({ city: 'q'.repeat(21) }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when required field Street is missing',
    tag: ['@18_C_CR_API', TAGS.API],
    data: _.omit(generateCustomerData(), ['street']),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Street contains invalid characters',
    tag: ['@19_C_CR_API', TAGS.API],
    data: generateCustomerData({ street: 'stree123$$5345' }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Street length exceeds 40 characters',
    tag: ['@20_C_CR_API', TAGS.API],
    data: generateCustomerData({ street: 's'.repeat(41) }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when required field House is missing',
    tag: ['@21_C_CR_API', TAGS.API],
    data: _.omit(generateCustomerData(), ['house']),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when House number is out of range (0 or >999)',
    tag: ['@22_C_CR_API', TAGS.API],
    data: generateCustomerData({ house: +'2'.repeat(4) }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when House number is not an integer',
    tag: ['@23_C_CR_API', TAGS.API],
    data: generateCustomerData({ house: 2.123 }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when required field Flat is missing',
    tag: ['@24_C_CR_API', TAGS.API],
    data: _.omit(generateCustomerData(), ['flat']),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Flat number is out of range (0 or >9999)',
    tag: ['@25_C_CR_API', TAGS.API],
    data: generateCustomerData({ house: +'6'.repeat(5) }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Flat number is not an integer',
    tag: ['@26_C_CR_API', TAGS.API],
    data: generateCustomerData({ flat: 7.6666 }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when required field Phone is missing',
    tag: ['@27_C_CR_API', TAGS.API],
    data: _.omit(generateCustomerData(), ['phone']),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Phone does not start with "+"',
    tag: ['@28_C_CR_API', TAGS.API],
    data: generateCustomerData({ phone: '12345678901' }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Phone is shorter than 10 characters',
    tag: ['@29_C_CR_API', TAGS.API],
    data: generateCustomerData({ phone: '+' + '1'.repeat(9) }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Phone is longer than 20 characters',
    tag: ['@30_C_CR_API', TAGS.API],
    data: generateCustomerData({ phone: '+' + '1'.repeat(21) }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Phone contains letters or special characters',
    tag: ['@31_C_CR_API', TAGS.API],
    data: generateCustomerData({ phone: '+123qew4444**' }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Notes contain forbidden characters "<" or ">"',
    tag: ['@32_C_CR_API', TAGS.API],
    data: generateCustomerData({ notes: 'text<< text>' }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
  {
    testName: 'Should not create customer when Notes length exceeds 250 characters',
    tag: ['@33_C_CR_API', TAGS.API],
    data: generateCustomerData({ notes: 'w'.repeat(251) }),
    error: API_ERRORS.CUSTOMER_BAD_REQUEST,
    statusCode: STATUS_CODES.BAD_REQUEST,
  },
];
